---
sidebar_position: 4
---

import CODE_EXAMPLE_ACTIVE from '!!raw-loader!@site/src/examples/api/react/useStateValueWithReactiveSelector/active'
import CODE_EXAMPLE_BASIC from '!!raw-loader!@site/src/examples/api/react/useStateValueWithReactiveSelector/basic'
import CODE_EXAMPLE_EQUALITY from '!!raw-loader!@site/src/examples/api/react/useStateValueWithReactiveSelector/equality'
import { ApiLink } from '@site/src/components/api-link'
import { SimpleWebPlayground } from '@site/src/components/live-playground'
import { MarkdownWrapper } from '@site/src/components/markdown-wrapper'
import { ObjectShapeDefinition } from '@site/src/components/object-shape-definition'
import { DataType, TypeDisplay } from '@site/src/components/type-display'
import { WarningUnstableAPI } from '@site/src/components/warning-unstable-api'
import { DocConstants } from '@site/src/constants'

# useStateValueWithReactiveSelector

<WarningUnstableAPI>
  This is provided as an escape hatch in special cases where <ApiLink href={`${DocConstants.DOCS_API_REACT_URL}/useStateValue`}>useStateValue</ApiLink> is not behaving as expected. For example, the selector depends on external values (props or data from other hooks) and the returned value does not change when those dependencies change. Under normal circumstances, the returned value will change when those external values change and this hook is not needed.
</WarningUnstableAPI>

## Overview

<TypeDisplay>{DataType.Function}</TypeDisplay>

<MarkdownWrapper>{DocConstants.TSDOC_DESC_USE_STATE_VALUE_WITH_REACTIVE_SELECTOR}</MarkdownWrapper>

```js
const state = useStateValueWithReactiveSelector(stateManager, selector)
```
<details>
  <summary><b>Overloads (+3)</b></summary>
  ```js
  const state = useStateValueWithReactiveSelector(stateManager, selector, active)
  ```
  ```js
  const state = useStateValueWithReactiveSelector(stateManager, selector, equalityFn)
  ```
  ```js
  const state = useStateValueWithReactiveSelector(stateManager, selector, equalityFn, active)
  ```
</details>

## Parameters

<ObjectShapeDefinition data={[
  {
    name: 'stateManager',
    type: [
      DataType.SimpleStateManager,
      DataType.StateManager,
      DataType.AsyncStateManager,
    ],
    description: DocConstants.TSDOC_PARAM_DESC_STATE_MANAGER,
  },
  {
    name: 'selector',
    type: DataType.StateSelector,
    description: DocConstants.TSDOC_PARAM_DESC_REACTIVE_SELECTOR,
  },
  {
    name: 'equalityFn',
    type: DataType.EqualityFn,
    defaultValue: `[\`Object.is\`](${DocConstants.API_REFERENCE_URL_OBJECT_IS})`,
    description: DocConstants.TSDOC_PARAM_DESC_REACTIVE_EQUALITY_FN,
  },
  {
    name: 'active',
    type: DataType.boolean,
    defaultValue: '`true`',
    description: DocConstants.TSDOC_PARAM_DESC_ACTIVE,
  },
]} />

## Examples

### Basic

<SimpleWebPlayground code={CODE_EXAMPLE_BASIC} />

### Custom equality checking

<SimpleWebPlayground code={CODE_EXAMPLE_EQUALITY} />

### Conditionally watch for changes

<SimpleWebPlayground code={CODE_EXAMPLE_ACTIVE} />
