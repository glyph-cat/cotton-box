"use strict";(self.webpackChunkcotton_box_docs=self.webpackChunkcotton_box_docs||[]).push([[4583],{992:(e,n,t)=>{t.d(n,{A:()=>s});var o,i=t(6540);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)({}).hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},r.apply(null,arguments)}const s=e=>{let{title:n,titleId:t,...s}=e;return i.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,viewBox:"0 -960 960 960","aria-labelledby":t},s),n?i.createElement("title",{id:t},n):null,o||(o=i.createElement("path",{d:"M600-160q-134 0-227-93t-93-227 93-227 227-93 227 93 93 227-93 227-227 93m30-333v-117q0-12-8.62-21-8.63-9-21.38-9t-21.37 8.5Q570-623 570-610v130q0 5.57 2 10.78 2 5.22 7 10.22l102 101q8.8 9 20.9 9t21.1-8.84 9-21-9-21.16zM110-610q-12.75 0-21.37-8.68-8.63-8.67-8.63-21.5 0-12.82 8.63-21.32Q97.25-670 110-670h100q12.75 0 21.38 8.68 8.62 8.67 8.62 21.5 0 12.82-8.62 21.32-8.63 8.5-21.38 8.5zM70-450q-12.75 0-21.37-8.68-8.63-8.67-8.63-21.5 0-12.82 8.63-21.32Q57.25-510 70-510h140q12.75 0 21.38 8.68 8.62 8.67 8.62 21.5 0 12.82-8.62 21.32-8.63 8.5-21.38 8.5zm40 160q-12.75 0-21.37-8.68-8.63-8.67-8.63-21.5 0-12.82 8.63-21.32Q97.25-350 110-350h100q12.75 0 21.38 8.68 8.62 8.67 8.62 21.5 0 12.82-8.62 21.32-8.63 8.5-21.38 8.5z"})))}},2822:(e,n,t)=>{t.d(n,{A:()=>s});var o,i=t(6540);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)({}).hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},r.apply(null,arguments)}const s=e=>{let{title:n,titleId:t,...s}=e;return i.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,viewBox:"0 -960 960 960","aria-labelledby":t},s),n?i.createElement("title",{id:t},n):null,o||(o=i.createElement("path",{d:"M140-480q0 105 57 190t153 125q12 5 17.5 16.5T367-126q-8 12-21 15.5t-27-2.5q-110-48-174.5-147.5T80-480q0-32 5-64.5t16-63.5l-40 23q-11 6-22.5 3.5T21-595t-3-23 14-18l121-70q11-6 23-3t18 14l70 120q6 11 3 23t-14 18-23 3-18-14l-43-73q-14 33-21.5 67.5T140-480m340-340q-57 0-109.5 18T273-749q-11 8-23.5 7.5T231-753q-7-12-4-26t14-22q52-38 113-58.5T480-880q87 0 165 35.5T780-744v-46q0-13 8.5-21.5T810-820t21.5 8.5T840-790v140q0 13-8.5 21.5T810-620H670q-13 0-21.5-8.5T640-650t8.5-21.5T670-680h85q-48-66-120.5-103T480-820m252 569q51-57 73-129t11-147q-2-13 5.5-23t19.5-10q14 0 24 10.5t12 25.5q8 81-14 157.5T790-227q-44 54-102 89.5T562-88l38 22q11 6 13.5 18T610-25t-17.5 13.5T570-15L448-85q-11-6-14-18t3-23l70-120q6-11 18-14t23 3 13.5 17.5T558-217l-43 76q63-6 119-34.5t98-75.5"})))}},3541:(e,n,t)=>{t.d(n,{A:()=>s});var o,i=t(6540);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)({}).hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},r.apply(null,arguments)}const s=e=>{let{title:n,titleId:t,...s}=e;return i.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,viewBox:"0 -960 960 960","aria-labelledby":t},s),n?i.createElement("title",{id:t},n):null,o||(o=i.createElement("path",{d:"m457-386-272-32q-19-2-25-20.5t8-31.5l440-404q4-3 8.5-5t13.5-2q15 0 23 12.5t0 25.5L503-574l272 32q19 2 25 20.5t-8 31.5L352-86q-4 3-8.5 5T330-79q-15 0-23-12.5t0-25.5z"})))}},9235:(e,n,t)=>{t.d(n,{IG:()=>b,P3:()=>y});var o=t(4477),i=t(9047),r=t(5293),s=t(8553),a=t(5938),l=t(6540),c=t(4848);const d="index.js",u="App.tsx",p="styles.css",m="index.module.css",h=!1,g={[d]:["import { createRoot } from 'react-dom/client'","import App from './App.tsx'",`import './${p}'`,"","const root = createRoot(document.getElementById('root'))","root.render(<App />)",""].join("\n"),[p]:["body {","  font-family: sans-serif;","  -webkit-font-smoothing: auto;","  -moz-font-smoothing: auto;","  -moz-osx-font-smoothing: grayscale;","  font-smoothing: auto;","  text-rendering: optimizeLegibility;","  font-smooth: always;","  -webkit-tap-highlight-color: transparent;","  -webkit-touch-callout: none;","}"].join("\n"),"package.json":["{",`  "main": "${d}",`,'  "dependencies": {','    "react": "^18.0.0",','    "react-dom": "^18.0.0",','    "react-scripts": "^5.0.0"',"  }","}"].join("\n"),"public/index.html":["<!DOCTYPE html>",'<html lang="en">',"  <head>",'    <meta charset="UTF-8">','    <meta name="viewport" content="width=device-width, initial-scale=1.0">',"    <title>Example</title>","  </head>","  <body>",'    <div id="root"></div>',"  </body>","</html>"].join("\n")};function v(){const{colorMode:e}=(0,r.G)();return"light"===e?i.Zw:i.$o}const f={customSetup:{dependencies:{"cotton-box":"latest","cotton-box-react":"latest"}},options:{editorWidthPercentage:65,editorHeight:"45vh",showLineNumbers:!0,showRefreshButton:!0,showTabs:!1,wrapContent:!0}};function b(e){return(0,a.i)()?(0,c.jsx)(x,{...e}):null}function x(e){let{code:n,css:t,extraDependencies:i,options:r}=e;const s=v();return(0,c.jsx)(c.Fragment,{children:h?(0,c.jsx)(o.l5,{files:{...g,[u]:n,...t?{[m]:t}:{}},...f,theme:s,customSetup:{...f.customSetup,entry:d,dependencies:{...f.customSetup.dependencies,...i}},options:{...f.options,activeFile:u,showConsole:/console\./.test(n),...r},children:(0,c.jsxs)(o.am,{children:[(0,c.jsx)(S,{}),(0,c.jsx)(o.G5,{})]})}):(0,c.jsx)(o.OZ,{files:{...g,[u]:n,...t?{[m]:t}:{}},...f,theme:s,customSetup:{...f.customSetup,entry:d,dependencies:{...f.customSetup.dependencies,...i}},options:{...f.options,activeFile:u,showConsole:/console\./.test(n),...r}})})}function y(e){return(0,a.i)()?(0,c.jsx)(w,{...e}):null}function w(e){let{code:n}=e;const t=v();return(0,c.jsx)(c.Fragment,{children:h?(0,c.jsx)(o.l5,{files:{[d]:n},...f,theme:t,customSetup:{...f.customSetup,entry:d},options:{...f.options,activeFile:d},children:(0,c.jsxs)(o.am,{children:[(0,c.jsx)(S,{}),(0,c.jsx)(o.X2,{})]})}):(0,c.jsx)(o.OZ,{files:{[d]:n},...f,theme:t,customSetup:{...f.customSetup,entry:d},options:{...f.options,activeFile:d,layout:"console"}})})}function S(){const{code:e,updateCode:n}=(0,o.Pe)(),{sandpack:t}=(0,o.ny)();return(0,c.jsx)(o.aN,{children:(0,c.jsx)("div",{style:{flex:1},children:(0,c.jsx)(s.Ay,{language:"typescript",theme:"vs-dark",defaultValue:e,onChange:(0,l.useCallback)((e=>n(e||"")),[n]),options:{fontSize:14,minimap:{enabled:!1},scrollBeyondLastLine:!1,wordWrap:"on"}},t.activeFile)})})}},5971:(e,n,t)=>{t.r(n),t.d(n,{default:()=>b});var o=t(4586),i=t(3849),r=t(1107),s=t(4164);const a={features:"features_M4u0",featureSvg:"featureSvg_hcSE"};var l=t(4848);const c=[{title:"Lightweight & fast",Svg:t(3541).A,description:(0,l.jsx)(l.Fragment,{children:"Suitable for various projects. From simple PWAs to complex applications and even time-critical games."})},{title:"Declarative lifecycle management",Svg:t(2822).A,description:(0,l.jsxs)(l.Fragment,{children:["Persist and retrieve data with lifecycle hooks such as ",(0,l.jsx)("code",{children:"init"}),", ",(0,l.jsx)("code",{children:"didSet"})," & ",(0,l.jsx)("code",{children:"didReset"}),"."]})},{title:"Supports async set-state functions",Svg:t(992).A,description:(0,l.jsx)(l.Fragment,{children:"An escape hatch for when you need to set state in conjunction with complicated data-fetching logic."})}];function d(e){let{title:n,Svg:t,description:o}=e;return(0,l.jsxs)("div",{className:(0,s.A)("col col--4"),children:[(0,l.jsx)("div",{className:"text--center",children:(0,l.jsx)(t,{className:a.featureSvg,role:"img"})}),(0,l.jsxs)("div",{className:"text--center padding-horiz--md",children:[(0,l.jsx)(r.A,{as:"h3",children:n}),(0,l.jsx)("p",{style:{opacity:.65},children:o})]})]})}function u(){const e=[];for(let n=0;n<c.length;n++)e.push((0,l.jsx)(d,{...c[n]},n));return(0,l.jsx)("section",{className:a.features,children:(0,l.jsx)("div",{className:"container",children:(0,l.jsx)("div",{className:"row",children:e})})})}var p=t(6490),m=t(9235);const h={heroBanner:"heroBanner_qdFl",buttons:"buttons_AeoN"},g="import { StateManager } from 'cotton-box'\nimport { useStateValue } from 'cotton-box-react'\nimport { ChangeEvent, MouseEvent, memo, useCallback, useDeferredValue, useEffect } from 'react'\nimport styles from './index.module.css'\n\ninterface IAppState {\n  notes: Record<string, {\n    title: string,\n    body: string\n  }>\n  currentlyPreviewing: string\n}\n\nconst AppState = new StateManager<IAppState>({\n  notes: {},\n  currentlyPreviewing: null,\n})\n\nfunction onSelectNote(noteId: string) {\n  return () => {\n    AppState.set((previousState) => ({\n      ...previousState,\n      currentlyPreviewing: noteId,\n    }))\n  }\n}\n\nfunction addNewNote(title = '', body = ''): void {\n  AppState.set((previousState) => {\n    let newId: string\n    do { newId = getRandomId() } while (previousState[newId])\n    return {\n      ...previousState,\n      notes: {\n        ...previousState.notes,\n        [newId]: {\n          title,\n          body,\n        },\n      },\n      currentlyPreviewing: newId,\n    }\n  })\n}\n\nfunction addNewNoteHandler() {\n  return addNewNote()\n}\n\nfunction removeNote(noteId: string): void {\n  AppState.set((previousState) => {\n    const originalIndex = Object.keys(previousState.notes).findIndex((id) => id === noteId)\n    const { [noteId]: _toExclude, ...nextNotes } = previousState.notes\n    const nextIds = Object.keys(nextNotes)\n    const nextPreviewId = nextIds[Math.min(Math.max(0, originalIndex - 1), nextIds.length - 1)]\n    return {\n      ...previousState,\n      notes: nextNotes,\n      currentlyPreviewing: nextPreviewId,\n    }\n  })\n}\n\nfunction onChangeNoteTitle(noteId: string) {\n  return (e: ChangeEvent<HTMLInputElement>) => {\n    AppState.set((previousState) => ({\n      ...previousState,\n      notes: {\n        ...previousState.notes,\n        [noteId]: {\n          ...previousState.notes[noteId],\n          title: e.target.value,\n        },\n      },\n    }))\n  }\n}\n\nfunction onChangeNoteBody(noteId: string) {\n  return (e: ChangeEvent<HTMLTextAreaElement>) => {\n    AppState.set((previousState) => ({\n      ...previousState,\n      notes: {\n        ...previousState.notes,\n        [noteId]: {\n          ...previousState.notes[noteId],\n          body: e.target.value,\n        },\n      },\n    }))\n  }\n}\n\nexport default function App(): JSX.Element {\n  useEffect(() => {\n    // Populate state with some data\n    const firstNoteId = 'ZPM9XQ7i8G4Lh569ouOw'\n    AppState.set((previousState) => ({\n      ...previousState,\n      currentlyPreviewing: firstNoteId,\n      notes: {\n        [firstNoteId]: {\n          title: 'Hello, world!',\n          body: 'How are you?',\n        },\n        'RjE5ICD3x0IuBCaSB5Q9': {\n          title: 'Lorem ipsum',\n          body: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.',\n        },\n        'OP2842RclzxswovKcO8A': {\n          title: 'Click for here a surprise',\n          body: 'Never gonna give you up\\nNever gonna let you down\\nNever gonna run around and desert you',\n        }\n      },\n    }))\n  }, [])\n  return (\n    <div className={styles.container}>\n      <Sidebar />\n      <Editor />\n    </div>\n  )\n}\n\nfunction Sidebar(): JSX.Element {\n  const currentlyPreviewing = useStateValue(AppState, (state) => state.currentlyPreviewing)\n  const notes = useDeferredValue(useStateValue(AppState, (state) => state.notes))\n  const renderStack = []\n  for (const id in notes) {\n    renderStack.push(\n      <SidebarItem\n        key={id}\n        id={id}\n        isPreviewing={id === currentlyPreviewing}\n        value={notes[id].title}\n      />\n    )\n  }\n  return (\n    <div className={styles.sidebarContainer}>\n      {renderStack}\n      <div\n        className={styles.sidebarItemContainer}\n        onClick={addNewNoteHandler}\n        role='button'\n      >\n        <b><i>+ Add note</i></b>\n      </div>\n    </div>\n  )\n}\n\ninterface SidebarItemProps {\n  id: string\n  value: string\n  isPreviewing: boolean\n}\n\nconst SidebarItem = memo(({\n  id,\n  isPreviewing,\n  value,\n}: SidebarItemProps): JSX.Element => {\n\n  const onRemoveNote = useCallback((e: MouseEvent<HTMLDivElement>) => {\n    removeNote(id)\n    e.preventDefault()\n  }, [id])\n\n  return (\n    <div\n      className={styles.sidebarItemContainer}\n      style={{\n        ...(isPreviewing ? { backgroundColor: '#2b80ff40' } : {}),\n        gap: 10,\n        gridTemplateColumns: '1fr auto',\n        opacity: value ? 1 : 0.5,\n      }}\n      onClick={onSelectNote(id)}\n      role='button'\n    >\n      <span style={value ? {} : { fontStyle: 'italic' }}>\n        {value || '(New note)'}\n      </span>\n      <div\n        className={styles.removeNoteButton}\n        onClick={onRemoveNote}\n        role='button'\n      >\n        {'\xd7'}\n      </div>\n    </div>\n  )\n})\n\nfunction Editor(): JSX.Element {\n  const currentlyPreviewing = useStateValue(AppState, (state) => state.currentlyPreviewing)\n  const currentNote = useStateValue(AppState, (state) => state.notes[state.currentlyPreviewing])\n  const isPreviewingValidItem = currentlyPreviewing && currentNote\n  return (\n    <div className={styles.editorContainer}>\n      <input\n        className={styles.titleInput}\n        disabled={!isPreviewingValidItem}\n        value={isPreviewingValidItem ? currentNote.title : ''}\n        onChange={onChangeNoteTitle(currentlyPreviewing)}\n        placeholder={isPreviewingValidItem ? 'Title' : undefined}\n      />\n      <textarea\n        className={styles.bodyTextArea}\n        disabled={!isPreviewingValidItem}\n        value={isPreviewingValidItem ? currentNote.body : ''}\n        onChange={onChangeNoteBody(currentlyPreviewing)}\n        placeholder={isPreviewingValidItem\n          ? 'What\\'s on your mind?'\n          : 'Select a note to begin editing'\n        }\n      />\n    </div>\n  )\n}\n\nfunction getRandomId(): string {\n  const charset = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'\n  let hash = ''\n  while (hash.length < 20) {\n    hash += charset[Math.floor(Math.random() * charset.length)]\n  }\n  return hash\n}\n",v=".container {\n  display: grid;\n  grid-template-columns: 30% 1fr;\n  height: 85vh;\n  overflow: hidden;\n}\n\n.sidebarContainer {\n  background-color: #80808040;\n  cursor: pointer;\n  display: grid;\n  grid-auto-rows: min-content;\n  overflow: scroll;\n}\n\n.sidebarItemContainer {\n  --sidebarItemHeight: 54px;\n  align-items: center;\n  border-bottom: solid 1px #80808080;\n  display: grid;\n  height: var(--sidebarItemHeight);\n  overflow: hidden;\n  padding-inline-start: 10px;\n  text-overflow: ellipsis;\n  user-select: none;\n}\n\n.sidebarItemContainer:hover {\n  background-color: #80808020;\n}\n\n.sidebarItemContainer:active {\n  background-color: #00000020;\n}\n\n.removeNoteButton {\n  cursor: pointer;\n  display: grid;\n  font-size: 18pt;\n  height: var(--sidebarItemHeight);\n  opacity: 0;\n  place-items: center;\n  text-align: center;\n  user-select: none;\n  width: var(--sidebarItemHeight);\n}\n\n.removeNoteButton:hover {\n  color: #ff4a4a;\n  background-color: #ff4a4a40;\n}\n\n.removeNoteButton:active {\n  color: #ff0000;\n  background-color: #80000040;\n}\n\n.sidebarItemContainer:hover .removeNoteButton {\n  opacity: 1;\n}\n\n.editorContainer {\n  display: grid;\n  background-color: #80808020;\n  grid-auto-rows: auto 1fr;\n}\n\n.titleInput {\n  background-color: transparent;\n  border: none;\n  border-bottom: dashed 2px #80808080;\n  font-size: 24pt;\n  font-weight: bold;\n  padding-bottom: 10px;\n  margin: 10px;\n  outline: none;\n}\n\n.titleInput::placeholder {\n  font-style: italic;\n}\n\n.bodyTextArea {\n  background-color: transparent;\n  border: none;\n  font-size: 16pt;\n  outline: none;\n  margin: 10px;\n  resize: none;\n}\n\n.bodyTextArea::placeholder {\n  font-style: italic;\n}\n";function f(){const{siteConfig:e}=(0,o.A)();return(0,l.jsx)("header",{className:(0,s.A)("hero hero--primary",h.heroBanner),children:(0,l.jsxs)("div",{className:"container",children:[(0,l.jsx)(r.A,{as:"h1",className:"hero__title",children:e.title}),(0,l.jsx)("p",{className:"hero__subtitle",children:e.tagline}),(0,l.jsx)("div",{className:h.buttons,children:(0,l.jsx)(i.N,{className:"button button--secondary button--lg",href:"/cotton-box/docs/learn/tutorial/setup",children:"Get started"})})]})})}function b(){const{siteConfig:e}=(0,o.A)();return(0,l.jsxs)(p.A,{description:e.tagline,children:[(0,l.jsx)(f,{}),(0,l.jsx)("main",{children:(0,l.jsx)(u,{})}),(0,l.jsx)("h2",{style:{marginTop:20,textAlign:"center"},children:"Quick Demo"}),(0,l.jsx)(m.IG,{code:g,css:v,options:{editorHeight:500,editorWidthPercentage:50}})]})}},4164:(e,n,t)=>{function o(e){var n,t,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(n=0;n<r;n++)e[n]&&(t=o(e[n]))&&(i&&(i+=" "),i+=t)}else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.d(n,{A:()=>i});const i=function(){for(var e,n,t=0,i="",r=arguments.length;t<r;t++)(e=arguments[t])&&(n=o(e))&&(i&&(i+=" "),i+=n);return i}}}]);